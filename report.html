<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-GB" xml:lang="en-GB">
<head>
    <meta charset="UTF-8"/>
    <title> COMS32500 Report </title>
</head>

<!--Your report should give your estimated grades under each heading, and then
    list things you've done under each heading to justify the estimate. You might
    also want to explain your overall aims and design, mention anything you are
    particularly proud of, anything I might miss when I am browsing your site,
    and anything which took a substantial amount of time and effort but didn't
    make it into the site.-->

<body>

    <h1>Report</h1>
    <h2>Group members</h2>
    Max Whale (mw17440), Nicole Li (nl17247), Sharlene D'Silva (sd17085)

    <h2>Grade Estimations</h2>
    <ul>
        <li>A+ for HTML</li>
        <li>A+ for CSS</li>
        <li>A+ for JS</li>
        <li>A for PNG</li>
        <li>A+ for SVG</li>
        <li>A for Server</li>
        <li>A for Database</li>
        <li>A for Dynamic pages</li>
        <li>X for Depth (out of 20)</li>
    </ul>

    <br/>

    <h2>Overall</h2>
    <p>
        An SPA of a ticketing website with the aim to improve user experience with a more interactive design and reduced loading time. We 
        aimed to get a deeper understanding of frontend development so chose not to use any frontend frameworks, and instead wrote our own 
        router and template module, along with creating our own animation and styles.
        On our site, Tick.et, you can browse through the latest shows, view availability for seats by interacting with the seatmap and then purchase tickets.
    </p>

    <br/>

    <h2>HTML</h2>
        <ul>
            <li>Our HTML is written to the HTML5 standard</li>
            <li>It has been validated with both XHTML delivery and a validation website</li>
            <li>It is structured to be readable and consise where possible</li>
            <li>Structured for responsive convenience</li>
        </ul>
    <br/>

    <h2>CSS</h2>
    <ul>
        <li>Most of the animations, transitions and styling were done in CSS</li>
        <li>Keyframes for animations controlling intermediate steps</li>
        <li>CSS was used to make the webite more responsive using media queries</li>
        <li>A custom parallax effect for our home page with the use of perspective, transform, scale and translate</li>
        <li>A flex display was used for the layout of most elements</li>
        <li>A main CSS was written to keep styling consistent throughout the website</li>
    </ul>
    <br/>

    <h2>JS</h2>
        <ul>
            <li>Written in ES5, so that it is friendly to older browsers</li>
            <li>Did not use any frontend frameworks, implemented our own router and template module</li>
            <li>Router: performs client-side routing for the SPA</li>
            <ul>
                <li>Initialising the router would populate an array of routes with parameters like uri, callback, parameters, regular expression etc</li>
                <li>The router then matches the current pathname and parameters to the corresponding route and displays the corresponding content</li>
                <li>The router also handles more complex pathnames using .where() with regular expressions for each parameter. This is implemented for each individual show page. for e.g. http://localhost:8080/shows/1</li>
            </ul>
            <li>Modify browser history states so its possible to navigate to previous page using the browser back button</li>
            <li>The hiding of navbar when scrolling downwards on the shows and account page, will appear if hovered over and when scrolled upwards</li>
            <li>Animation and interaction was done with js, for example:</li>
            <ul>
                <li>Draws the path outline for SVG (seen in the login modal)</li>
                <li>Smooth scrolling effect (show details pages)</li>
                <li>Interacting with the seatmap, including conditional formatting</li>
                <li>Navigating the carousel and indicating the change in banner (home page)</li>
                <li>Fade transitions between the displaying of different pages</li>
                <li>Auto-completing search bar (on shows page)</li>
            </ul>
        </ul>
    <br/>

    <h2>PNG</h2>
        <ul>
            <li>Created our own "<i>Silence of the Lambdas</i>" banner and poster</li>
            <ul>
                <li>GIMP was used to make the above</li>
                <li>Lots of layers were used to build up an image</li>
                <li>GIMP's inbuilt filters were used to make the image look interesting without requiring any artistic talent</li>
            </ul>
            <li>Created some of our own icons, though in the end favicon was used for better resolution</li>
        </ul>
    <br/>

    <h2>SVG</h2>
        <ul>
            <li>There are also SVGs created in the HTML, including the splash screen, carousel navigations, the legend for seatmap, all carousel navigations.</li>
            <li>All SVGs in the <i>img</i> folder are created using inkscape which involved grouping, ungrouping and path editing.</li>
            <li>A lot of effort was put into modelling the seat map, which is based on the real Winston Theatre (based in Bristol University's SU). Groups were used to identify each seat (circle). [ADD]</li>
            <li>The patterns in the footer were also created in Inkspace by drawing by hand, and then smoothening and filling in the shape.</li>
            <li>User interaction and animations with them are done in JS and CSS for styling</li>
        </ul>
    <br/>

    <h2>Server</h2>
    <ul>
        <li>Written using express.js</li>
        <li>The code uses the modern <code>async/await</code> style</li>
        <li>Runs both on HTTP (port 8080) and HTTPS (port 8443)</li>
        <li>HTTPS certificate is self-signed as the server is not hosted on a domain</li>
        <li>Cookies are used for login sessions</li>
        <ul>
            <li>Cookies expire with the browser session, or after 7 days if the 'remember me' box is checked</li>
            <li>Cookies are set to <i>HttpOnly</i>, and <i>secure</i> (if on HTTPS)</li>
        </ul>
        <li>The <i>helmet</i> package was used to set best-practice HTTP headers</li>
        <li>Server-side code is organised into routes, controllers and services</li>
    </ul>
    <br/>

    <h2>Database</h2>
    <ul>
        <li>We use a integrated SQLite database</li>
        <li>When the server starts, it checks if the database file exists, and if not creates and initialises it</li>
        <li>We wrote a database.js module, which provides many functions to help access the database</li>
        <li>The <code>create.sql</code> script shows the structure of the database. We tried to stick to proper relational database convention and normal form</li>
        <li>Wrote complex sql queries to select required data from several tables all at once to avoid multiple requests.</li>
    </ul>
    <br/>

    <h2>Dynamic pages</h2>
    <p>
        We implemented our own template rendering module to deliver dynamic content:
        <ul>
            <li>We request data from the server and insert them into existing templates on the client side using the template module</li>
            <li>The template engine simply takes a chunk of HTML, and replaces any values wrapped in double curly braces. It escapes any HTML characters from inserted strings to prevent HTML injection</li>
            <li>It also allows inserting many copies of the same template with different data (for example for the list of current shows)</li>
            <li>The templates themselves are simply blocks of HTML wrapped in a &lt;template&gt; tag. These blocks are always hidden, so even if a browser doesn't support the &lt;template&gt; tag they won't show up</li>
        </ul>
    </p>
    <br/>

</body>
</html>